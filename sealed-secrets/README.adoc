= Using bitnami-labs Sealed Secrets

The idea is to Encrypt your Secret into a SealedSecret, which is safe to store - even to a public repository.

.References :
** https://github.com/bitnami-labs/sealed-secrets["Sealed Secrets" for Kubernetes]

:sectnums:

== Installation
I'm using a bash script to download the controller file, then using kustomize i remove the root security context

[source,bash]
----
./00_build.sh
----

.kustomization.yaml
[source,yaml]
----
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
namespace: sealed-secrets
commonLabels:
  app: sealed-secrets
resources:
- sealed-secrets-namespace.yaml
# it fails !! i don't know why ? i followed https://github.com/kubernetes-sigs/kustomize/blob/master/examples/remoteBuild.md#url-format
#- github.com/bitnami-labs/sealed-secrets/releases/download/v0.12.4/controller.yaml
- controller.yaml

patchesJson6902:
- target:
    group: apps
    version: v1
    kind: Deployment
    name: sealed-secrets-controller
  path: sc-patch.yaml
----
